---
description: 데이터 모델링 개념
---

# 데이터 모델링

## 데이터 모델링의 이해

#### 데이터 모델링의 특징

* 추상화 : 공통적인 특징을 찾아서 간략하게 표현하기
* 단순화 : 복잡한 문제를 피하고 누구나 이해할 수 있게 표현하기
* 명확화 : 의미적 해석이 모호하지 않고 명확하게 해석되게 하기 \(한 가지 의미만 가지도록\)

#### 데이터 모델링의 단계 : 개념적→논리적→물리적

* 개념적 모델링 : 기업 비즈니스 프로세스 분석해서 업무 관점에서 데이터베이스의 개념을 모델링한다. 엔터티와 속성을 도출해서 개념적인 ERD를 작성한다.
* 논리적 모델링 : 개념적 모델링을 논리적 모델링으로 변환한다. 이때, 식별자를 도출하고 필요한 모든 릴레이션\(관계, 속성 등\)을 정의한다. 정규화를 수행해서 데이터 모델의 독립성을 확보한다. \(독립성이 확보된 모델은 업무 변화에 능동적으로 대응할 수 있게 한다. 독립성을 확보하기 위해서는 중복된 데이터를 제거해야 한다.\)
* 물리적 모델링 : 데이터베이스를 실제로, 물리적 저장장치에 구축하는 단계다. 즉, 테이블, 인덱스, 함수 등을 생성한다. 이때는 성능, 보안, 가용성 등을 고려해서 구축한다.

#### 데이터 모델링 관점 : 데이터, 프로세스, 데이터와 프로세스

* 데이터 : 비즈니스 프로세스에서 사용되는 데이터를 의미한다. 구조분석과 정적분석.
* 프로세스 : 비즈니스 프로세스에서 수행하는 작업을 의미한다. 시나리오 분석, 도메인 분석, 동적 분석.
* 데이터와 프로세스 : 프로세스와 데이터 간의 관계를 의미한다. CRUD\(Create Read Update Delete\) 분석.

#### ERD\(Entity Relation Diagram\)란

* 엔터티와 엔터티 관의 관계를 정의하는 모델링 방법

1. 업무에서 관리해야 하는 집합인 엔터티를 도출하고 그린다.
2. 엔터티를 배치한다. 중요한 엔터티는 왼쪽 상단에.
3. 엔터티 간의 관계를 설정한다.
4. 엔터티 간에 어떤 행위나 존재가 있는지 관계명을 작성한다.
5. 관계 참여도를 표현한다. 관계 참여도란 한 개의 엔터티와 다른 엔터티 간의 참여하는 관계 수를 의미한다. 즉, '고객이 여러 개의 계좌를 개설할 수 있다'와 같은 의미를 표현하는 것이다.
6. 관계의 필수 여부를 표현한다. 예를 들어, '모든 고객은 반드시 하나의 계좌는 개설해야 한다'

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a2477871-cff9-411d-9a7c-12b19598e656/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a2477871-cff9-411d-9a7c-12b19598e656/Untitled.png)

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/db8911bc-f46c-4240-9288-43040c0e171f/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/db8911bc-f46c-4240-9288-43040c0e171f/Untitled.png)

페이스북의 ERD

## 3층 스키마 \(3-Level Schema\)

#### 3층 스키마

* 사용자, 설계자, 개발자가 데이터베이스를 보는 관점에 따라 데이터베이스를 기술하고 이들 간의 관계를 정의한 ANSI 표준이다.
* 3층 스키마는 데이터베이스의 독립성을 확보하기 위한 방법이다. 데이터의 독립성을 확보하면 데이터의 복잡도를 줄이고, 데이터의 중복을 제거할 수 있다. 또한, 요구사항을 변경할 때 탄력적으로 대응할 수 있고, 그에 따라 관리 및 유지보수 비용이 절감된다.
  * 논리적 독립성 : 저장구조가 변경되어도 응용 프로그램 및 개념 스키마에 영향 없음
  * 물리적 독립성 : 데이터베이스 논리적 구조가 변경되어도 응용 프로그램에 변화 없음
* 3층 스키마는 3단계 계층으로 분리해서 독립성을 확보하는 방법으로써, 각 계층을 View라고 일컫기도 한다.

[3층 스키마의 구조](https://www.notion.so/8bc1803476074356a78d308515d33460)

## 엔터티\(Entity\)

#### 엔터티

* 엔터티는 업무에서 관리해야 하는 데이터 집합을 의미하며, 저장되고 관리되어야 하는 데이터다.
* 개념이나 사건, 장소처럼 '명사' 개념이다.
* "엔터티는 변별할 수 있는 사물이다"
* "정보를 저장할 수 있는 어떤 것이다"
* "데이터베이스 내부에서 변별 가능한 객체다"
* "정보가 저장될 수 있는 장소, 사람, 사건, 개념, 물건 등이다"

#### 엔터티 도출

* 엔터티는 비즈니스 프로세스에서 관리되어야 하는 정보를 도출해야 한다.
* 예를 들어... 아래 이미지에서 Entity는 'Department'이고, 그 엔터티 안에 속성으로 Staff No \(사원 번호\)가 있는 것.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/10f3f851-3f8f-4225-82b4-a76ad3540c65/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/10f3f851-3f8f-4225-82b4-a76ad3540c65/Untitled.png)

#### 엔터티의 특징

* 식별자 : **엔터티는 유일한 식별자가 있어야 한다.** 예를 들어, 부서 정보를 담은 부서 엔터티에는 부서 정보를 유일하게 식별할 수 있는 식별자\(예를 들어, 부서코드\)가 있어야 하고... 사원 정보를 담은 사원 엔터티에는 사원 정보를 유일하게 식별할 수 있는 식별자\(예를 들어, 사원 코드\)가 있어야 한다.
* 인스턴스\(행 수\) : 하나의 엔터티에는 2개 이상의 인스턴스가 있어야 한다. 예를 들어, 부서 엔터티에 부서가 2개 이상 있어야 하고, 사원 엔터티에는 사원이 2명 이상 있어야 하고, 고객 엔터티에는 고객 정보가 2명 이상 있어야 한다.
* 속성 : 엔터티는 반드시 속성을 가지고 있다. 속성 없는 엔터티 뭐하러 있겠어. 예를 들어, 고객 엔터티에는 회원 아이디, 패스워드, 이름, 주소, 전화번호 등의 속성이 있다.
* 관계 : 엔터티는 다른 엔터티와 최소 한 개 이상 관계가 있어야 한다. 예를 들어, 고객은 계좌를 개설한다. 고객은 주문을 신청한다. 등....
* 업무 : 엔터티는 업무에서 관리되는 집합이다. 예를 들어, 고객, 계좌, 부서 정보, 사원 정보...

#### 릴레이션, 테이블, 인스턴스

* 릴레이션과 테이블은 같은 의미. 릴레이션에 기본키와 제약조건을 설정하면 테이블이 된다.
* 인스턴스 : 릴레이션이 가지는 값. 간단히 말해서 '행 수'를 의미
* 카디널리티 : 하나의 릴레이션에서 투플\(행\)의 전체 개수를 의미

#### 카디널리티

* 하나의 릴레이션에서 투플\(행\)의 전체 개수를 의미
* 두 개의 엔터티에서 관계에 참여하는 수 \(1:1, 1:M, 1:N\)
* 카디널리티를 계산하는 식 : 선택도 \* 전체 레코드 수

#### 엔터티의 종류

* 유무형에 따른 종류 : 유형 엔터티, 개념 엔터티, 사건 엔터티
* 발생하는 시점에 따른 종류 : 기본 엔터티, 중심 엔터티, 행위 엔터티

#### 유무형에 따른 종류

* 유형 엔터티 : 업무에서 도출되며 지속적으로 사용되는 엔터티 \(예: 고객, 강사, 사원 등\)
* 개념 엔터티 : 물리적 형태 없는 엔터티 \(예: 거래소 종목, 코스닥 종목, 생명보험 상품\)
* 사건 엔터티 : 비즈니스 프로세스를 실행하면서 생성되는 엔터티. \(예: 주문, 체결, 취소주문, 수수료 청구 등\)

#### 발생시점에 따른 종류

* 기본 엔터티\(Key Entity\) : 독립적으로 생성 가능. 다른 엔터티에 의존하지 않는다. \(예: 고객, 사원, 부서, 상품 등\)
* 중심 엔터티\(Main Entity\) : 기본 엔터티와 행위 엔터티 사이에 있다. 즉, 기본 엔터티에 의해서 발생되고 행위 엔터티를 생성한다. \(예: 주문, 계좌원장, 계약, 청구 등\)
* 행위 엔터티\(Active\) : 두 개 이상의 부모 엔터티를 가진다. 빈번하게 발생하는 데이터를 저장한다. 주문, 취소, 결제 등 지속적으로 정보가 추가되고 변경되기 때문에 데이터 양이 많은 편. \(예: 주문이력, 계약체결 이력, 계약취소 이력 등\)

## 속성 \(Attribute\)

#### 1\) 속성의 특징

* 업무에서 필요한 정보인 엔터티가 가지는 항목. 업무에 필요한 데이터를 저장할 수 있다.
* 속성은 의미적으로 더 이상 분리되거나 분해되지 않는 단위.
* 인스턴스의 구성요소다.
* 주식별자에게 함수적으로 종속된다. 즉, 기본키가 변경되면 속성의 값도 변경된다는 것.
* 속성은 사물의 성질, 특징, 본질적 성질을 의미하며 **중복된 값이 있을 수 있다.**

#### 2\) 속성의 종류

2-1\) 분해 여부에 따른 속성의 종류

* 단일 속성 : 하나의 의미로 구성된 것으로 회원 ID, 이름 등
* 복합 속성 : 여러 개의 의미가 있는 것으로 대표적으로 주소가 있음. 주소는 시, 군, 동 등으로 분해될 수 있다.
* 다중값 속성 : **속성에 여러 개의 값을 가질 수 있는 것.** \(예: 상품 리스트\) 다중값 속성은 엔터티로 분해된다.

